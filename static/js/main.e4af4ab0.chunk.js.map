{"version":3,"sources":["components/Weather/wind.png","components/Filters/CountryList.js","components/Filters/ForecastMode.js","components/Filters/SearchBar.js","components/Weather/WeatherIcon.js","components/Weather/WeatherInfos.js","components/CityInfos/CityWeather.js","components/CityInfos/CityInfos.js","components/DaysForecasts/HourForecast.js","components/DaysForecasts/DayForecasts.js","components/DaysForecasts/DaysForecasts.js","utils/forecasts.js","screens/FiveDaysForecastsScreen.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","CountryList","selectCountry","options","countries","all","filter","country","status","map","code","alpha2","name","emoji","id","labelKey","onChange","placeholder","className","ForecastMode","mode","changeMode","hidden","ToggleButtonGroup","type","value","ToggleButton","SearchBar","loading","loaded","searchCity","setCityName","setCountry","setMode","useState","cityName","setName","Form","inline","onSubmit","e","preventDefault","Control","target","Button","disabled","style","width","defaultProps","WeatherIcon","icon","desc","center","weatherIconSrc","src","alt","title","height","WeatherInfos","weather","temp","humidity","wind","marginTop","toFixed","windImg","CityWeather","main","length","w","slice","pop","description","CityInfos","lat","lon","sunrise","sunset","weatherInfos","renderTimestamp","time","moment","unix","format","Card","Body","Title","Subtitle","speed","ListGroup","Item","Fragment","propTypeps","PropTypes","string","isRequired","number","shape","arrayOf","HourForecast","dt","props","DayForecasts","hours","data","Col","xs","key","Row","noGutters","DaysForecasts","forecasts","reduce","days","forecast","date","dayOfYear","toString","push","forecastsByDays","flat","f","FiveDaysForecasts","state","city","errors","search","API_URL","process","val","this","setState","fetch","then","response","ok","Error","json","searchMode","fetchForecast","fetchHourly","coord","catch","err","message","inCountry","body","console","log","list","hourly","wind_speed","Alert","variant","dismissible","Heading","sys","renderErrors","cityInfos","renderCityInfos","bind","React","Component","App","Container","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.e4af4ab0.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA5klEQVRIie3UP0oDQRSA8Z9/gmCTE9gHCz1GLO08hLWtRtCAR7DKOVKl0UY8QkDQSmwsBAvFWPjEWTEmuzxIkw+GnZ2deR+zb+axJIENnOMOD7hAK1NwgAk+4jnBWaagjT62sRuC+0xByU4Inn6N7+M6xm/jvcLIz/bnaf1ibWfKnL2mgh7WirVtDHAY/eOYdzXrdzSlFYJnWE8Ovomj6I/LD3VzMKu9owuryTt4w42vBA+TYy+YJjl4xKnqkU0V/HXpUplWNirUPUVl4fvmtWaMf6lduudKUMEYK9jCCy5xEsIlzfgEgjl1ChHFgaoAAAAASUVORK5CYII=\"","import React from 'react';\nimport { countries } from 'country-data-list';\nimport { Typeahead } from 'react-bootstrap-typeahead';\n\nexport default function CountryList({selectCountry}) {\n  const options = countries.all\n    .filter(country => country.status === 'assigned')\n    .map(country => ({\n      code: country.alpha2,\n      name: `${country.emoji} ${country.name}`,\n    }));\n\n  return (\n    <Typeahead\n      id=\"country-selector\"\n      labelKey=\"name\"\n      onChange={selectCountry}\n      options={options}\n      placeholder=\"Choose a country...\"\n      className=\"mr-2\"\n    />\n  )\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ToggleButtonGroup from 'react-bootstrap/ToggleButtonGroup';\nimport ToggleButton from 'react-bootstrap/ToggleButton';\n\nexport default function ForecastMode({mode, changeMode, hidden}) {\n  if (hidden) {\n    return '';\n  }\n\n  return (\n    <ToggleButtonGroup\n      type=\"radio\"\n      name=\"forecastMode\"\n      value={mode}\n      onChange={changeMode}\n    >\n      <ToggleButton value=\"3hours\">\n        3 hours\n      </ToggleButton>\n      <ToggleButton value=\"hourly\">\n        Hourly\n      </ToggleButton>\n    </ToggleButtonGroup>\n  )\n}\n\nForecastMode.propTypes = {\n  mode: PropTypes.string.isRequired,\n  changeMode: PropTypes.func.isRequired,\n  hidden: PropTypes.bool.isRequired,\n}","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n\nimport CountryList from './CountryList';\nimport ForecastMode from './ForecastMode';\n\nexport default function SearchBar({ loading, loaded, mode, searchCity, setCityName, setCountry, setMode }) {\n  const [cityName, setName] = useState('');\n\n  const search = (e) => {\n    e.preventDefault();\n    searchCity();\n  };\n\n  const changeCityName = (e) => {\n    setName(e.target.value);\n    setCityName(e.target.value);\n  }\n\n  return (\n    <Form inline onSubmit={search}>\n      <Form.Control\n        type=\"search\"\n        placeholder=\"City name\"\n        className=\"mr-2\"\n        value={cityName}\n        onChange={changeCityName}\n      />\n\n      <CountryList selectCountry={setCountry} />\n\n      <Button\n        type=\"submit\"\n        disabled={loading || cityName===''}\n        className=\"mr-5\"\n        style={{width: '125px'}}\n      >\n        { loading ? 'Searching...' : 'Search' }\n      </Button>\n\n      <div className=\"ml-auto\">\n        <ForecastMode\n          mode={mode}\n          changeMode={setMode}\n          hidden={!loaded}\n        />\n      </div>\n    </Form>\n  );\n}\n\nSearchBar.propTypes = {\n  loading: PropTypes.bool,\n  loaded: PropTypes.bool, // are there forecasts showing ?\n  mode: PropTypes.string.isRequired,\n  searchCity: PropTypes.func.isRequired,\n  setCityName: PropTypes.func.isRequired,\n  setCountry: PropTypes.func.isRequired,\n  setMode: PropTypes.func.isRequired,\n};\n\nSearchBar.defaultProps = {\n  loading: false,\n  loaded: false,\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nexport default function WeatherIcon({ icon, desc, center }) {\n  const weatherIconSrc = `https://openweathermap.org/img/wn/${icon}@2x.png`;\n  return (\n    <img\n      src={weatherIconSrc}\n      alt=\"weather icon\"\n      title={desc}\n      width=\"100\"\n      height=\"100\"\n      className={center ? 'd-block mx-auto' : ''} />\n  );\n}\n\nWeatherIcon.propTypes = {\n  icon: PropTypes.string.isRequired,\n  desc: PropTypes.string.isRequired,\n  center: PropTypes.bool,\n};\n\nWeatherIcon.defaultProps = {\n  center: false,\n}","import React from 'react';\nimport windImg from './wind.png';\nimport PropTypes from 'prop-types';\n\n// Display information on a particular forecast (temperature, humidity, wind, ..)\nexport default function WeatherInfos ({weather, temp, humidity, wind, center, marginTop}) {\n  let className = 'd-flex flex-column';\n  if (center)\n    className += ' text-center';\n  if (marginTop) {\n    className += ' mt-3';\n  }\n\n  return (\n    <div className={className}>\n      <small>{weather}</small>\n      <div className=\"flex-row\">\n        <span> {temp.toFixed(1)}C - &nbsp;</span>\n        <span className=\"text-info\"> {humidity}% </span>\n      </div>\n      <div className=\"flex-row\">\n        <img src={windImg} alt=\"wind\" title=\"wind\" width=\"16\" height=\"16\" className=\"mr-1\"/>\n        <small>{wind} m/s</small>\n      </div>\n    </div>\n  );\n}\n\nWeatherInfos.propTypes = {\n  weather: PropTypes.string.isRequired,\n  temp: PropTypes.number.isRequired,\n  humidity: PropTypes.number.isRequired,\n  wind: PropTypes.number.isRequired,\n  center: PropTypes.bool,\n  marginTop: PropTypes.bool,\n}\n\nWeatherInfos.defaultProps = {\n  center: false,\n  marginTop: false,\n}","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport WeatherIcon from '../Weather/WeatherIcon';\nimport WeatherInfos from '../Weather/WeatherInfos';\n\n// Renders city's current weather\nexport default function CityWeather ({weather, main, wind}) {\n  if (weather.length === 0) {\n    return <p><i>Unable to fetch current weather</i></p>;\n  }\n  const w = weather.slice().pop();\n  return (\n    <div className=\"d-flex flex-row\">\n      <WeatherIcon icon={w.icon} desc={w.description}/>\n      <WeatherInfos\n        weather={w.main}\n        temp={main.temp}\n        humidity={main.humidity}\n        wind={wind}\n        marginTop />\n    </div>\n  )\n}\n\nCityWeather.propTypes = {\n  weather: PropTypes.arrayOf(PropTypes.shape({\n    icon: PropTypes.string,\n    description: PropTypes.string,\n    main: PropTypes.string,\n  })).isRequired,\n  main: PropTypes.shape({\n    temp: PropTypes.number,\n    humidity: PropTypes.number,\n  }).isRequired,\n  wind: PropTypes.number.isRequired,\n}","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Card from 'react-bootstrap/Card';\nimport ListGroup from 'react-bootstrap/ListGroup';\n\nimport moment from 'moment';\nimport { countries } from 'country-data-list';\n\nimport CityWeather from './CityWeather';\nimport './city-infos.css';\n\n\n/**\n * CityInfos\n * Display informations about a city\n */\nexport default function CityInfos({name, lat, lon, country, sunrise, sunset, weatherInfos}) {\n  // Renders country label, name and emoji\n  const renderCountry = (code) => (\n    <React.Fragment>{countries[code].emoji} {countries[code].name}</React.Fragment>\n  )\n\n  // Renders sunrise / sunset timestamps\n  const renderTimestamp = (time) => moment.unix(time).format('H:mm A');\n\n  return (\n    <Card className=\"city-infos shadow-sm\">\n      <Card.Body className=\"pb-0\">\n        <Card.Title>{name}</Card.Title>\n\n        <Card.Subtitle className=\"mb-2 text-muted\">\n          Lat: {lat}, Lon: {lon}\n        </Card.Subtitle>\n\n        <CityWeather\n          weather={weatherInfos.weather}\n          main={weatherInfos.main}\n          wind={weatherInfos.wind.speed} />\n      </Card.Body>\n\n      <ListGroup className=\"list-group-flush infos\">\n        <ListGroup.Item>\n          <label>Country</label> {renderCountry(country)}\n        </ListGroup.Item>\n\n        <ListGroup.Item>\n          <label>Sunrise</label> {renderTimestamp(sunrise)}\n        </ListGroup.Item>\n\n        <ListGroup.Item>\n          <label>Sunset</label> {renderTimestamp(sunset)} \n        </ListGroup.Item>\n      </ListGroup>\n    </Card>\n  );\n}\n\nCityInfos.propTypeps = {\n  name: PropTypes.string.isRequired,\n  lat: PropTypes.number.isRequired,\n  lon: PropTypes.number.isRequired,\n  country: PropTypes.string.isRequired,\n  sunrise: PropTypes.number.isRequired,\n  sunset: PropTypes.number.isRequired,\n  weatherInfos: PropTypes.shape({\n    weather: PropTypes.arrayOf(PropTypes.shape({\n      icon: PropTypes.string,\n      description: PropTypes.string,\n      main: PropTypes.string,\n    })),\n    main: PropTypes.shape({\n      temp: PropTypes.number,\n      humidity: PropTypes.number,\n    }).isRequired,\n    wind: PropTypes.shape({\n      speed: PropTypes.number.isRequired,\n    }).isRequired,\n  }).isRequired,\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Card from 'react-bootstrap/Card';\n\nimport moment from 'moment';\n\nimport WeatherIcon from '../Weather/WeatherIcon';\nimport WeatherInfos from '../Weather/WeatherInfos';\n\n\n// Card for an individual forefacst\nexport const HourForecast = ({ weather, dt, ...props }) => (\n  <Card className=\"py-3 mb-2 mr-2\">\n    <strong className=\"mx-auto\"> {moment.unix(dt).format('HH:mm A')} </strong>\n    <WeatherIcon icon={weather.icon} desc={weather.description} center/>\n    <WeatherInfos\n      weather={weather.main}\n      center\n      {...props}/>\n  </Card>\n);\n\n\n// Prop types\nHourForecast.propTypes = {\n  dt: PropTypes.number,\n  weather: PropTypes.shape({\n    icon: PropTypes.string.isRequired,\n    description: PropTypes.string.isRequired,\n    main: PropTypes.string.isRequired,\n  }).isRequired,\n  temp: PropTypes.number,\n  humidity: PropTypes.number,\n  wind: PropTypes.number,\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport { HourForecast } from './HourForecast';\n\n// Displays forecasts for a day\nexport default function DayForecasts({title, data}) {\n  const hours = data\n    .filter(data => data.weather.length > 0)\n    .map(data => (\n      <Col xs=\"3\" key={data.dt}>\n        <HourForecast\n          dt={data.dt}\n          weather={data.weather.slice().pop()}\n          temp={data.main.temp}\n          humidity={data.main.humidity}\n          wind={data.wind.speed}/>\n      </Col>\n    ))\n\n  return (\n    <Card className=\"mb-3 shadow-sm\">\n      <Card.Body>\n        <Card.Title>{title}</Card.Title>\n        <Row noGutters> {hours} </Row>\n      </Card.Body>\n    </Card>\n  )\n}\n\nDayForecasts.propTypes = {\n  title: PropTypes.string.isRequired,\n  data: PropTypes.arrayOf(PropTypes.shape({\n    dt: PropTypes.number.isRequired,\n    weather: PropTypes.arrayOf(PropTypes.shape({\n      icon: PropTypes.string.isRequired,\n      description: PropTypes.string.isRequired,\n      main: PropTypes.string.isRequired,\n    })).isRequired,\n    main: PropTypes.shape({\n      temp: PropTypes.number.isRequired,\n      humidity: PropTypes.number.isRequired,\n    }).isRequired,\n    wind: PropTypes.shape({\n      speed: PropTypes.number.isRequired,\n    }).isRequired,\n  })),\n};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport DayForecasts from './DayForecasts';\nimport { forecastsByDays } from '../../utils/forecasts';\n\n/**\n * Forecasts for 5 days\n */\nexport default function DaysForecasts({forecasts}) {\n  return forecastsByDays(forecasts)\n    .flat()\n    .map(f => (\n      <Row key={f.title}>\n        <Col xs=\"12\">\n          <DayForecasts title={f.title} data={f.data} />\n        </Col>\n      </Row>\n    ));\n}\n\nDaysForecasts.propTypes = {\n  forecasts: PropTypes.array.isRequired,\n}","import moment from 'moment';\n\nexport const forecastsByDays = (forecasts) => (\n  forecasts.slice()\n    .reduce((days, forecast) => {\n      const date = moment.unix(forecast.dt);\n      const dayOfYear = date.dayOfYear().toString();\n      if (!days[dayOfYear]) {\n        days[dayOfYear] = {\n          title: +dayOfYear === moment().dayOfYear() ? \"Today\" : date.format('dddd'),\n          data: [],\n        };\n      }\n      days[dayOfYear].data.push(forecast);\n      return days;\n    }, [])\n);","import React from 'react';\nimport Alert from 'react-bootstrap/Alert';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport SearchBar from '../components/Filters/SearchBar';\nimport CityInfos from '../components/CityInfos/CityInfos';\nimport DaysForecasts from '../components/DaysForecasts/DaysForecasts';\n\nclass FiveDaysForecasts extends React.Component {\n  // Constructor\n  constructor(props) {\n    super(props);\n    this.state = {\n      city: null,\n      forecasts: [],\n      errors: [],\n      loading: false,\n      search: {\n        cityName: '',\n        country: null,\n        mode: '3hours',\n      }\n    }\n    const base_url = process.env.REACT_APP_API_ENDPOINT || \"https://frozen-caverns-00730.herokuapp.com\";\n    this.API_URL = `${base_url}/api/v1`;\n  }\n\n  // Change city name from search bar\n  setCityName(val) {\n    this.setState({\n      search: {\n        ...this.state.search,\n        cityName: val,\n      }\n    });\n  }\n\n  // Change country from search bar\n  setCountry(val) {\n    this.setState({\n      search: {\n        ...this.state.search,\n        country: val.length > 0 ? val[0] : null,\n      }\n    });\n  }\n\n  // Change search mode from search bar\n  setMode(mode) {\n    this.setState({\n      search: {\n        ...this.state.search,\n        mode: mode,\n      }\n    }, () => { this.searchCity() });\n  }\n\n  // Search weather forecast for a city by name\n  searchCity() {\n    // Clean previous errors and set loading to true\n    this.setState({\n      errors: [],\n      loading: true,\n    });\n\n    // fetch data\n    const cityName = this.state.search.cityName;\n    let country = this.state.search.country;\n    country = country ? `,${country.code}` : '';\n    return fetch(`${this.API_URL}/weather?city=${cityName}${country}`)\n      .then(response => {\n        if (!response.ok) {\n          throw Error(response.status);\n        }\n        return response.json();\n      })\n      .then(data => {\n        const searchMode = this.state.search.mode;\n        this.setState({city: data});\n        if (searchMode === '3hours') {\n          return this.fetchForecast(data.id);\n        }\n        else if (searchMode === 'hourly') {\n          return this.fetchHourly(data.coord.lat, data.coord.lon);\n        }\n      })\n      // Error handling\n      .catch(err => {\n        const errors = this.state.errors.slice();\n        if (err.message === \"404\") {\n          const country = this.state.search.country;\n          const inCountry = (country !== null ? ` in ${country.name}` : '');\n          errors.push({\n            title: 'Not found',\n            body: (\n              <p>The city <strong>{cityName}</strong> could not be found{inCountry}. Wrong spelling, maybe ?</p>\n            ),\n          });\n        }\n        else {\n          console.log(err);\n        }\n\n        this.setState({\n          errors: errors,\n          city: null,\n          forecasts: [],\n          loading: false,\n        });\n      });\n  }\n\n  // Fetch the 5 day forecast for city <id>\n  fetchForecast(id) {\n    return fetch(`${this.API_URL}/forecast?id=${id}`)\n      .then(response => response.json())\n      .then(data => {\n        // Save data in state\n        this.setState({\n          forecasts: data.list,\n          loading: false, // loading is finished\n        });\n      });\n  }\n\n  // Fetch the hourly forecast\n  fetchHourly(lat, lon) {\n    return fetch(`${this.API_URL}/onecall?lat=${lat}&lon=${lon}`)\n      .then(response => response.json())\n      .then(data => {\n        this.setState({\n          // Reponse is formatted a bit differently than the 3 hours forecast\n          forecasts: data.hourly.map(f => ({\n            dt: f.dt,\n            main: {\n              temp: f.temp,\n              humidity: f.humidity,\n            },\n            weather: f.weather,\n            wind: {\n              speed: f.wind_speed,\n            },\n          })),\n          loading: false,\n        });\n      });\n  }\n\n  // Render errors stored in state\n  renderErrors() {\n    return this.state.errors.map(err => (\n      <Alert variant=\"danger\" dismissible key={err}>\n        <Alert.Heading> {err.title} </Alert.Heading>\n        {err.body}\n      </Alert>\n    ));\n  }\n\n  // Render city informations if there is a city in state\n  renderCityInfos() {\n    const city = this.state.city;\n    if (!city) {\n      return '';\n    }\n\n    const weatherInfos = {\n      weather: city.weather,\n      main: city.main,\n      wind: city.wind,\n    };\n\n    return (\n      <CityInfos\n        name={city.name}\n        lat={city.coord.lat}\n        lon={city.coord.lon}\n        country={city.sys.country}\n        sunrise={city.sys.sunrise}\n        sunset={city.sys.sunset}\n        weatherInfos={weatherInfos} />\n    )\n  }\n\n  // Render the view\n  render() {\n    const errors = this.renderErrors();\n    const cityInfos = this.renderCityInfos();\n\n    return (\n      <React.Fragment>\n        <SearchBar\n          loading={this.state.loading}\n          loaded={this.state.forecasts.length > 0}\n          country={this.state.search.country}\n          mode={this.state.search.mode}\n          searchCity={this.searchCity.bind(this)}\n          setCityName={this.setCityName.bind(this)}\n          setCountry={this.setCountry.bind(this)}\n          setMode={this.setMode.bind(this)}\n        />\n\n        <div className=\"errors my-3\">\n          {errors}\n        </div>\n\n        <Row className=\"mt-3\">\n          <Col xs=\"4\"> {cityInfos} </Col>\n\n          <Col xs=\"8\">\n            <DaysForecasts forecasts={this.state.forecasts} />\n          </Col>\n        </Row>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default FiveDaysForecasts;","import React from 'react';\nimport Container from 'react-bootstrap/Container';\n\nimport './App.css';\nimport FiveDaysForecasts from './screens/FiveDaysForecastsScreen';\n\nconst App = () => (\n  <React.Fragment>\n    <div className=\"header text-white shadow-lg py-3 w-100\">\n      <Container>\n        <h1>Weather App</h1>\n        <h5>3 hours / hourly forecasts for a city</h5>\n      </Container>\n    </div>\n\n    <Container className=\"content bg-white mt-3 p-3 rounded\">\n      <FiveDaysForecasts/>\n    </Container>\n  </React.Fragment>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}